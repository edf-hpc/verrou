<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>10.Â README.android_emulator</title>
<link rel="stylesheet" type="text/css" href="vg_basic.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="index.html" title="Valgrind Documentation">
<link rel="up" href="dist.html" title="Valgrind Distribution Documents">
<link rel="prev" href="dist.readme-android.html" title="9.Â README.android">
<link rel="next" href="dist.readme-mips.html" title="11.Â README.mips">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div><table class="nav" width="100%" cellspacing="3" cellpadding="3" border="0" summary="Navigation header"><tr>
<td width="22px" align="center" valign="middle"><a accesskey="p" href="dist.readme-android.html"><img src="images/prev.png" width="18" height="21" border="0" alt="Prev"></a></td>
<td width="25px" align="center" valign="middle"><a accesskey="u" href="dist.html"><img src="images/up.png" width="21" height="18" border="0" alt="Up"></a></td>
<td width="31px" align="center" valign="middle"><a accesskey="h" href="index.html"><img src="images/home.png" width="27" height="20" border="0" alt="Up"></a></td>
<th align="center" valign="middle">Valgrind Distribution Documents</th>
<td width="22px" align="center" valign="middle"><a accesskey="n" href="dist.readme-mips.html"><img src="images/next.png" width="18" height="21" border="0" alt="Next"></a></td>
</tr></table></div>
<div class="chapter">
<div class="titlepage"><div><div><h1 class="title">
<a name="dist.readme-android_emulator"></a>10.Â README.android_emulator</h1></div></div></div>
<div class="literallayout"><p><br>
Â Â Â Â Â Â <br>
HowÂ toÂ installÂ andÂ runÂ anÂ androidÂ emulator.<br>
<br>
mkdirÂ androidÂ #Â orÂ anyÂ otherÂ placeÂ youÂ prefer<br>
cdÂ android<br>
<br>
#Â downloadÂ javaÂ JDK<br>
#Â http://www.oracle.com/technetwork/java/javase/downloads/index.html<br>
#Â downloadÂ androidÂ SDK<br>
#Â http://developer.android.com/sdk/index.html<br>
#Â downloadÂ androidÂ NDK<br>
#Â http://developer.android.com/sdk/ndk/index.html<br>
<br>
#Â versionsÂ IÂ used:<br>
#Â Â jdk-7u4-linux-i586.tar.gz<br>
#Â Â android-ndk-r8-linux-x86.tar.bz2<br>
#Â Â android-sdk_r18-linux.tgz<br>
<br>
#Â installÂ jdk<br>
tarÂ xzfÂ jdk-7u4-linux-i586.tar.gz<br>
<br>
#Â installÂ sdk<br>
tarÂ xzfÂ android-sdk_r18-linux.tgz<br>
<br>
#Â installÂ ndk<br>
tarÂ xjfÂ android-ndk-r8-linux-x86.tar.bz2<br>
<br>
<br>
#Â setupÂ PATHÂ toÂ useÂ theÂ installedÂ software:<br>
exportÂ SDKROOT=$HOME/android/android-sdk-linux<br>
exportÂ PATH=$PATH:$SDKROOT/tools:$SDKROOT/platform-tools<br>
exportÂ NDKROOT=$HOME/android/android-ndk-r8<br>
<br>
#Â installÂ androidÂ platformsÂ youÂ wantÂ byÂ starting:<br>
androidÂ <br>
#Â (fromÂ $SDKROOT/tools)<br>
<br>
#Â selectÂ theÂ platformsÂ youÂ need<br>
#Â IÂ selectedÂ andÂ installed:<br>
#Â Â Â AndroidÂ 4.0.3Â (APIÂ 15)<br>
#Â UpgradedÂ thenÂ toÂ theÂ newerÂ versionÂ available:<br>
#Â Â Â Â Â AndroidÂ sdkÂ 20<br>
#Â Â Â Â Â AndroidÂ platformÂ toolsÂ 12<br>
<br>
#Â thenÂ defineÂ aÂ virtualÂ device:<br>
ToolsÂ -&gt;Â ManageÂ AVDs...<br>
#Â IÂ defineÂ anÂ AVDÂ NameÂ withÂ 64Â MbÂ SDÂ Card,Â (4.0.3,Â apiÂ 15)<br>
#Â restÂ isÂ default<br>
<br>
<br>
#Â compileÂ andÂ makeÂ installÂ Valgrind,Â followingÂ README.android<br>
<br>
<br>
#Â StartÂ yourÂ androidÂ emulatorÂ (itÂ takesÂ someÂ time).<br>
#Â YouÂ canÂ useÂ adbÂ shellÂ toÂ getÂ aÂ shellÂ onÂ theÂ device<br>
#Â andÂ seeÂ itÂ isÂ working.Â NoteÂ thatÂ IÂ usuallyÂ get<br>
#Â oneÂ orÂ twoÂ timeÂ outÂ fromÂ adbÂ shellÂ beforeÂ itÂ works<br>
adbÂ shell<br>
<br>
#Â OnceÂ theÂ emulatorÂ isÂ ready,Â pushÂ yourÂ ValgrindÂ toÂ theÂ emulator:<br>
adbÂ pushÂ InstÂ /<br>
<br>
<br>
#Â IMPORTANT:Â whenÂ runningÂ Valgrind,Â youÂ mayÂ needÂ giveÂ itÂ theÂ flag<br>
#<br>
#Â Â Â Â --kernel-variant=android-no-hw-tls<br>
#<br>
#Â sinceÂ otherwiseÂ itÂ mayÂ crashÂ atÂ startup.<br>
#Â SeeÂ README.androidÂ forÂ details.<br>
<br>
<br>
#Â ifÂ youÂ needÂ toÂ debug:<br>
#Â YouÂ haveÂ onÂ theÂ androidÂ sideÂ aÂ gdbserver<br>
#Â onÂ theÂ deviceÂ side:<br>
gdbserverÂ :1234Â your_exe<br>
<br>
#Â onÂ theÂ hostÂ side:<br>
adbÂ forwardÂ tcp:1234Â tcp:1234<br>
$HOME/android/android-ndk-r8/toolchains/arm-linux-androideabi-4.4.3/prebuilt/linux-x86/bin/arm-linux-androideabi-gdbÂ your_exe<br>
targetÂ remoteÂ :1234<br>
<br>
<br>
Â Â Â Â </p></div>
</div>
<div>
<br><table class="nav" width="100%" cellspacing="3" cellpadding="2" border="0" summary="Navigation footer">
<tr>
<td rowspan="2" width="40%" align="left">
<a accesskey="p" href="dist.readme-android.html">&lt;&lt;Â 9.Â README.android</a>Â </td>
<td width="20%" align="center"><a accesskey="u" href="dist.html">Up</a></td>
<td rowspan="2" width="40%" align="right">Â <a accesskey="n" href="dist.readme-mips.html">11.Â README.mipsÂ &gt;&gt;</a>
</td>
</tr>
<tr><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td></tr>
</table>
</div>
</body>
</html>
